"use strict";(self.webpackChunksocialn=self.webpackChunksocialn||[]).push([[762],{4762:function(e,s,n){n.r(s),n.d(s,{default:function(){return q},withRouter:function(){return R}});var r=n(5671),o=n(3144),t=n(136),i=n(516),l=n(8683),a=n(2791),u=n(5987),c={person:"Person_person__hRlAr",ava:"Person_ava__7u6m+",info:"Person_info__O3iGS",fullName:"Person_fullName__i8RVM",secondBlock:"Person_secondBlock__0dowO",contacts:"Person_contacts__5D+xO",friends:"Person_friends__ZHlgB",contact:"Person_contact__Y3k63"},f=n(8260),p=n(885),d=n(184),h=a.memo((function(e){var s=(0,a.useState)(!1),n=(0,p.Z)(s,2),r=n[0],o=n[1],t=(0,a.useState)(e.status),i=(0,p.Z)(t,2),l=i[0],u=i[1];(0,a.useEffect)((function(){return u(e.status)}),[e.status]);return(0,d.jsxs)("div",{children:[!r&&(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status})}),r&&(0,d.jsx)("div",{children:e.isOwner?(0,d.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){o(!1),e.UpdateStatus(l)},autoFocus:!0,value:l,type:"text"}):(0,d.jsx)("b",{children:l})})]})})),m=n(6407),j="Friends_friends__xwpru",x="Friends_friend__Dp8eu",g="Friends_ava__9T88a",v=n(1087),w=a.memo((function(e){return(0,d.jsx)("div",{className:j,children:e.friends&&e.friends.items.map((function(e){return(0,d.jsx)(P,{item:e})}))})})),P=function(e){return(0,d.jsxs)("div",{className:x,children:[(0,d.jsx)(v.OL,{to:"/profile/"+e.item.id,children:(0,d.jsx)("img",{className:g,src:null!=e.item.photos.small?e.item.photos.small:f,alt:"User-icon"})}),(0,d.jsx)("p",{children:e.item.name})]})},_=w,F=n(7781),k=n(8687),U=function(e){(0,t.Z)(n,e);var s=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),s.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.props.getFriends()}},{key:"render",value:function(){return(0,d.jsx)(_,(0,l.Z)({},this.props))}}]),n}(a.Component),Z=(0,F.qC)((0,k.$j)((function(e){return{friends:e.profilePage.friends}}),{getFriends:m.$J}))(U),b=["profile"],O=["profile"],N=a.memo((function(e){return e.profile?(0,d.jsxs)("div",{className:c.person,children:[(0,d.jsxs)("div",{className:c.firstBlock,children:[(0,d.jsx)("div",{className:c.ava,children:(0,d.jsx)("img",{src:e.profile.photos.large||f})}),(0,d.jsx)(S,{profile:e.profile}),e.user&&!e.isOwner?(0,d.jsx)(C,{user:e.user,isOwner:e.isOwner,follow:e.followProf,Unfollow:e.UnFollowProf,isFollowing:e.isFollowing,isFollowingUser:e.isFollowingUser}):null]}),(0,d.jsx)("div",{className:c.secondBlock,children:(0,d.jsx)(y,{profile:e.profile,isOwner:e.isOwner,UpdateStatus:e.UpdateStatus,status:e.status})}),e.isOwner&&(0,d.jsxs)("div",{className:c.friends,children:[(0,d.jsx)("h3",{children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,d.jsx)(Z,{})]})]}):(0,d.jsx)("img",{src:"https://flevix.com/wp-content/uploads/2019/07/Spin-Preloader-1.gif"})})),y=function(e){var s=e.profile,n=(0,u.Z)(e,b);return(0,d.jsxs)("div",{className:c.info,children:[(0,d.jsx)("div",{children:(0,d.jsx)("h2",{className:c.fullName,children:s.fullName})}),(0,d.jsx)("div",{className:c.status,children:(0,d.jsx)(h,{status:n.status,UpdateStatus:n.UpdateStatus,isOwner:n.isOwner})}),(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:s.lookingForAJob?"Looking for a job":"No looking for a job"})}),s.lookingForAJobDescription||(0,d.jsx)("div",{children:s.lookingForAJobDescription})]})},S=function(e){var s=e.profile;(0,u.Z)(e,O);return(0,d.jsx)("div",{className:c.contacts,children:Object.keys(s.contacts).map((function(e){return(0,d.jsx)(D,{ContactValue:s.contacts[e]},e)}))})},C=function(e){return e.isFollowing?(0,d.jsx)("button",{disabled:e.isFollowingUser.length>0,onClick:function(){e.Unfollow(e.user.items[0].id)},children:" \u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,d.jsx)("button",{disabled:e.isFollowingUser.length>0,onClick:function(){e.follow(e.user.items[0].id)},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})},D=function(e){var s=e.ContactValue;return s?(0,d.jsx)("div",{className:c.contacts,children:(0,d.jsx)("a",{href:s,className:c.contact})}):(0,d.jsx)(d.Fragment,{})},A=N,I="Profile_body__d4rPb",B=a.memo((function(e){return(0,d.jsxs)("div",{className:I,children:[(0,d.jsx)("h1",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,d.jsx)(A,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto,status:e.status,UpdateStatus:e.UpdateStatus,saveProfile:e.saveProfile,user:e.user,UnFollowProf:e.UnFollowProf,followProf:e.followProf,isFollowing:e.isFollowing,isFollowingUser:e.isFollowingUser})]})})),J=n(7689),$=n(1548);function R(e){return function(s){var n={params:(0,J.UO)()};return(0,d.jsx)(e,(0,l.Z)((0,l.Z)({},s),{},{match:n}))}}var T=function(e){(0,t.Z)(n,e);var s=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),s.apply(this,arguments)}return(0,o.Z)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),this.props.getProfile(e),this.props.SetStatus(e),this.props.getUser(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsx)(B,(0,l.Z)((0,l.Z)({},this.props),{},{isOwner:this.props.match.params.userId==this.props.userId}))}}]),n}(a.Component),q=(0,F.qC)((0,k.$j)((function(e){return{posts:e.profilePage.postData,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,user:e.profilePage.user,isFollowing:e.profilePage.isFollowingProf,userId:e.auth.userId,status:e.profilePage.status,friends:e.profilePage.friends,isFollowingUser:e.usersPage.isFollowing}}),{actionAddPost:m.Cf,getProfile:m.Ai,SetStatus:m.j4,UpdateStatus:m.qu,savePhoto:m.Ju,saveProfile:m.Ii,getFriends:m.$J,getUser:m.PR,UnFollowProf:m.HA,followProf:m.gk}),R,$.D)(T)},1548:function(e,s,n){n.d(s,{D:function(){return d}});var r=n(8683),o=n(5671),t=n(3144),i=n(136),l=n(516),a=n(2791),u=n(7689),c=n(8687),f=n(184),p=function(e){return{isAuth:e.auth.isAuth}},d=function(e){var s=function(s){(0,i.Z)(a,s);var n=(0,l.Z)(a);function a(){return(0,o.Z)(this,a),n.apply(this,arguments)}return(0,t.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(e,(0,r.Z)({},this.props)):(0,f.jsx)(u.Fg,{to:"/login"})}}]),a}(a.Component);return(0,c.$j)(p)(s)}},8260:function(e,s,n){e.exports=n.p+"static/media/unknown.ae3a914be1e9f200b221.png"},5987:function(e,s,n){n.d(s,{Z:function(){return o}});var r=n(3366);function o(e,s){if(null==e)return{};var n,o,t=(0,r.Z)(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],s.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}}}]);
//# sourceMappingURL=762.37e529ee.chunk.js.map