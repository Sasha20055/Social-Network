"use strict";(self.webpackChunksocialn=self.webpackChunksocialn||[]).push([[466],{1466:function(t,e,s){s.r(e),s.d(e,{default:function(){return q},withRouter:function(){return R}});var n=s(5671),r=s(3144),o=s(136),i=s(516),a=s(8683),c=s(2791),u=s(5987),l=s(885),d={person:"Person_person__hRlAr",ava:"Person_ava__7u6m+",info:"Person_info__O3iGS",contact_item:"Person_contact_item__gKfNO",status:"Person_status__kDEpD"},p=s(8260),f=s(184),m=c.memo((function(t){var e=(0,c.useState)(!1),s=(0,l.Z)(e,2),n=s[0],r=s[1],o=(0,c.useState)(t.status),i=(0,l.Z)(o,2),a=i[0],u=i[1];(0,c.useEffect)((function(){return u(t.status)}),[t.status]);return(0,f.jsxs)("div",{children:[!n&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status})}),n&&(0,f.jsx)("div",{children:t.isOwner?(0,f.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},onBlur:function(){r(!1),t.UpdateStatus(a)},autoFocus:!0,value:a,type:"text"}):(0,f.jsx)("b",{children:a})})]})})),h=s(7492),x=s(704),j=s(6509),v=s(2813),b=c.memo((function(t){var e=(0,j.D)(15),s=(0,j.D)(100);return(0,f.jsxs)("form",{className:d.info,onSubmit:t.handleSubmit,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Name"}),":",(0,h.Np)("fullName",h.II,"text","name...",[j.C,e])]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),":",(0,h.Np)("lookingForAJob",h.II,"checkbox")]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job description"}),":",(0,h.Np)("lookingForAJobDescription",h.II,"text","Description to a job...",[j.C,s])]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),":",(0,h.Np)("aboutMe",h.II,"text","Smth about you...",[j.C,s])]}),(0,f.jsxs)("div",{className:d.contacts,children:[(0,f.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.profile.contacts).map((function(t){return(0,f.jsx)("div",{className:d.contacts,children:(0,f.jsxs)("b",{children:[t," : ",(0,h.Np)("contacts."+t,h.II,"text",t+"...")]})})}))]}),(0,f.jsxs)("div",{children:[t.error&&(0,f.jsx)("div",{className:v.Z.commonError,children:t.error}),(0,f.jsx)("button",{children:"Confirm"})]})]})})),_=(0,x.Z)({form:"personEdit"})(b),Z=["profile"],g=c.memo((function(t){var e=(0,c.useState)(!1),s=(0,l.Z)(e,2),n=s[0],r=s[1];if(!t.profile)return(0,f.jsx)("img",{src:"https://flevix.com/wp-content/uploads/2019/07/Spin-Preloader-1.gif"});return(0,f.jsxs)("div",{className:d.person,children:[(0,f.jsx)("div",{className:d.ava,children:(0,f.jsx)("img",{src:t.profile.photos.large||p})}),n?(0,f.jsx)(_,{initialValues:t.profile,profile:t.profile,onSubmit:function(e){t.saveProfile(e).then((function(){r(!1)}))},isOwner:t.isOwner,UpdateStatus:t.UpdateStatus,editMode:n,offToEditMode:function(){return r(!1)}}):(0,f.jsx)(P,{profile:t.profile,isOwner:t.isOwner,UpdateStatus:t.UpdateStatus,status:t.status,editMode:n,goToEditMode:function(){return r(!0)}}),(0,f.jsx)("div",{className:d.choosePhoto,children:t.isOwner&&(0,f.jsx)("input",{type:"file",onChange:function(e){t.savePhoto(e.target.files[0])}})})]})})),P=function(t){var e=t.profile,s=(0,u.Z)(t,Z);return(0,f.jsxs)("div",{className:d.info,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Name"}),": ",e.fullName]}),(0,f.jsxs)("div",{className:d.status,children:[(0,f.jsx)("b",{children:"Status"}),": ",(0,f.jsx)(m,{status:s.status,UpdateStatus:s.UpdateStatus,isOwner:s.isOwner})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"Yes":"No"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),": ",e.aboutMe?e.aboutMe:"Empty"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Skills"}),": ",e.lookingForAJobDescription?e.lookingForAJobDescription:"Absent"]}),(0,f.jsxs)("div",{className:d.contacts,children:[(0,f.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return(0,f.jsx)(N,{ContactTitle:t,ContactValue:e.contacts[t]},t)}))]}),s.isOwner&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:s.goToEditMode,children:"Edit"})})]})},N=function(t){var e=t.ContactTitle,s=t.ContactValue;return(0,f.jsxs)("div",{className:d.contact_item,children:[(0,f.jsx)("b",{children:e}),": ",s||"empty"]})},C=g,S="SendingPost_sendPost__m-CEi",k=s(6139),y=(0,j.D)(30),w=(0,x.Z)({form:"SendingPost"})((function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)(k.Z,{name:"postText",component:h.gx,type:"text",placeholder:"your news...",validate:[j.C,y]}),(0,f.jsx)("button",{children:"Send"})]})})),I=function(t){return(0,f.jsx)("div",{className:S,children:(0,f.jsx)(w,{onSubmit:function(e){t.actionAddPost(e.postText)}})})},A="Head_head__U8+gE",O=c.memo((function(){return(0,f.jsx)("div",{className:A})})),E={myPost:"Post_myPost__PRXwg",postAva:"Post_postAva__vyOyJ"},D=c.memo((function(t){return(0,f.jsx)("div",{children:t.posts.map((function(t){return(0,f.jsxs)("div",{className:E.myPost,children:[(0,f.jsx)("div",{className:E.postAva}),(0,f.jsx)("p",{className:E.postMsg,children:t.message}),(0,f.jsxs)("p",{className:E.like,children:["Likes: ",t.likes]})]},t.id)}))})})),U=c.memo((function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(O,{}),(0,f.jsx)(C,{profile:t.profile,isOwner:t.isOwner,savePhoto:t.savePhoto,status:t.status,UpdateStatus:t.UpdateStatus,saveProfile:t.saveProfile}),(0,f.jsx)(I,(0,a.Z)({},t)),(0,f.jsx)(D,{posts:t.posts})]})})),F=s(8687),T=s(6508),M=s(7689),J=s(7781),L=s(1548);function R(t){return function(e){var s={params:(0,M.UO)()};return(0,f.jsx)(t,(0,a.Z)((0,a.Z)({},e),{},{match:s}))}}var V=function(t){(0,o.Z)(s,t);var e=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,r.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(this.props.userId,function(t){throw new TypeError('"'+t+'" is read-only')}("profileId")),this.props.getProfile(t),this.props.SetStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(U,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:this.props.match.params.userId==this.props.userId}))}}]),s}(c.Component),q=(0,J.qC)((0,F.$j)((function(t){return{posts:t.profilePage.postData,newPostText:t.profilePage.newPostText,profile:t.profilePage.profile,userId:t.auth.userId,status:t.profilePage.status}}),{actionAddPost:T.Cf,getProfile:T.Ai,SetStatus:T.j4,UpdateStatus:T.qu,savePhoto:T.Ju,saveProfile:T.Ii}),R,L.D)(V)},7492:function(t,e,s){s.d(e,{II:function(){return d},Np:function(){return p},gx:function(){return l}});var n=s(8683),r=s(5987),o=(s(2791),s(2813)),i=s(6139),a=s(184),c=["input","meta"],u=["input","meta"],l=function(t){var e=t.input,s=t.meta,i=(0,r.Z)(t,c),u=s.touched&&s.error;return(0,a.jsxs)("div",{className:o.Z.formControl+" "+(u?o.Z.error:""),children:[(0,a.jsx)("div",{children:(0,a.jsx)("textarea",(0,n.Z)((0,n.Z)((0,n.Z)({},e),i),{},{className:o.Z.textarea}))}),u&&(0,a.jsx)("span",{className:o.Z.someError,children:s.error})]})},d=function(t){var e=t.input,s=t.meta,i=s.touched,c=s.error,l=(0,r.Z)(t,u),d=i&&c;return(0,a.jsxs)("div",{className:o.Z.formControl+" "+(d?o.Z.error:""),children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",(0,n.Z)((0,n.Z)((0,n.Z)({},e),l),{},{className:o.Z.textarea}))}),d&&(0,a.jsx)("span",{className:o.Z.someError,children:c})]})},p=function(t,e,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return(0,a.jsx)("div",{className:"s.".concat(t),children:(0,a.jsx)(i.Z,(0,n.Z)({name:t,component:e,type:s,placeholder:r,validate:o},c))})}},1548:function(t,e,s){s.d(e,{D:function(){return f}});var n=s(8683),r=s(5671),o=s(3144),i=s(136),a=s(516),c=s(2791),u=s(7689),l=s(8687),d=s(184),p=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){(0,i.Z)(c,e);var s=(0,a.Z)(c);function c(){return(0,r.Z)(this,c),s.apply(this,arguments)}return(0,o.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(t,(0,n.Z)({},this.props)):(0,d.jsx)(u.Fg,{to:"/login"})}}]),c}(c.Component);return(0,l.$j)(p)(e)}},6509:function(t,e,s){s.d(e,{C:function(){return n},D:function(){return r}});var n=function(t){if(!t)return"require error"},r=function(t){return function(e){if(e.length>t)return"max length ".concat(t," symbols!")}}},2813:function(t,e){e.Z={formControl:"FormsControls_formControl__dV+OA",error:"FormsControls_error__ZjcXj",textarea:"FormsControls_textarea__xpgxZ",someError:"FormsControls_someError__PrG3Q",commonError:"FormsControls_commonError__Rlpkm"}},8260:function(t,e,s){t.exports=s.p+"static/media/unknown.ae3a914be1e9f200b221.png"}}]);
//# sourceMappingURL=466.e5fcd626.chunk.js.map