"use strict";(self.webpackChunksocialn=self.webpackChunksocialn||[]).push([[992],{4992:function(e,r,n){n.r(r),n.d(r,{default:function(){return L},withRouter:function(){return G}});var o=n(5671),s=n(3144),t=n(136),i=n(516),l=n(1413),a=n(2791),c=n(5987),u={person:"Person_person__hRlAr",ava:"Person_ava__7u6m+",info:"Person_info__O3iGS",fullName:"Person_fullName__i8RVM",secondBlock:"Person_secondBlock__0dowO",contacts:"Person_contacts__5D+xO",friends:"Person_friends__ZHlgB",contact:"Person_contact__Y3k63"},d=n(8260),f=n(885),p=n(184),h=a.memo((function(e){var r=(0,a.useState)(!1),n=(0,f.Z)(r,2),o=n[0],s=n[1],t=(0,a.useState)(e.status),i=(0,f.Z)(t,2),l=i[0],c=i[1];(0,a.useEffect)((function(){return c(e.status)}),[e.status]);return(0,p.jsxs)("div",{children:[!o&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status})}),o&&(0,p.jsx)("div",{children:e.isOwner?(0,p.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},onBlur:function(){s(!1),e.UpdateStatus(l)},autoFocus:!0,value:l,type:"text"}):(0,p.jsx)("b",{children:l})})]})})),m=n(7492),x=n(704),j=n(6509),v=n(2813),g=a.memo((function(e){var r=(0,j.D)(50),n=(0,j.D)(100);return(0,p.jsxs)("div",{className:"div",children:[(0,p.jsxs)("form",{className:u.info,onSubmit:e.handleSubmit,children:[(0,p.jsx)("div",{children:(0,m.Np)("fullName",m.II,"text","name...",[j.C,r])}),(0,p.jsx)("div",{children:(0,m.Np)("lookingForAJob",m.II,"checkbox")}),(0,p.jsx)("div",{children:(0,m.Np)("lookingForAJobDescription",m.II,"text","Description to a job...",[j.C,n])}),(0,p.jsx)("div",{children:(0,m.Np)("aboutMe",m.II,"text","Smth about you...",[j.C,n])}),(0,p.jsxs)("div",{className:u.contacts,children:[(0,p.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.profile.contacts).map((function(e){return(0,p.jsx)("div",{className:u.contacts,children:(0,p.jsxs)("b",{children:[e," : ",(0,m.Np)("contacts."+e,m.II,"text",e+"...")]})})}))]}),(0,p.jsxs)("div",{children:[e.error&&(0,p.jsx)("div",{className:v.Z.commonError,children:e.error}),(0,p.jsx)("button",{children:"Confirm"})]})]}),(0,p.jsx)("div",{className:u.choosePhoto,children:e.isOwner&&(0,p.jsx)("input",{type:"file",onChange:e.photoSelected})})]})})),_=((0,x.Z)({form:"personEdit"})(g),n(6407)),w="Friends_friends__xwpru",Z="Friends_friend__Dp8eu",P="Friends_ava__9T88a",N=n(1087),F=a.memo((function(e){return(0,p.jsx)("div",{className:w,children:e.friends&&e.friends.items.map((function(e){return(0,p.jsx)(b,{item:e})}))})})),b=function(e){return(0,p.jsxs)("div",{className:Z,children:[(0,p.jsx)(N.OL,{to:"/profile/"+e.item.id,children:(0,p.jsx)("img",{className:P,src:null!=e.item.photos.small?e.item.photos.small:d,alt:"User-icon"})}),(0,p.jsx)("p",{children:e.item.name})]})},k=F,C=n(7781),U=n(8687),S=function(e){(0,t.Z)(n,e);var r=(0,i.Z)(n);function n(){return(0,o.Z)(this,n),r.apply(this,arguments)}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.props.getFriends()}},{key:"render",value:function(){return(0,p.jsx)(k,(0,l.Z)({},this.props))}}]),n}(a.Component),y=(0,C.qC)((0,U.$j)((function(e){return{friends:e.profilePage.friends}}),{getFriends:_.$J}))(S),I=["profile"],O=["profile"],D=function(e){var r=e.profile,n=(0,c.Z)(e,I);return(0,p.jsxs)("div",{className:u.info,children:[(0,p.jsx)("div",{children:(0,p.jsx)("h2",{className:u.fullName,children:r.fullName})}),(0,p.jsx)("div",{className:u.status,children:(0,p.jsx)(h,{status:n.status,UpdateStatus:n.UpdateStatus,isOwner:n.isOwner})}),(0,p.jsx)("div",{children:(0,p.jsx)("p",{children:r.lookingForAJob?"Looking for a job":"No looking for a job"})}),(0,p.jsx)("div",{children:r.aboutMe?r.aboutMe:"Empty"}),r.lookingForAJobDescription||(0,p.jsx)("div",{children:r.lookingForAJobDescription})]})},A=function(e){var r=e.profile;(0,c.Z)(e,O);return(0,p.jsx)("div",{className:u.contacts,children:Object.keys(r.contacts).map((function(e){return(0,p.jsx)(J,{ContactTitle:e,ContactValue:r.contacts[e]},e)}))})},E=function(e){if(e.user&&!e.isOwner)return e.isFollowing?(0,p.jsx)("button",{disabled:e.isFollowingUser.length>0,onClick:function(){e.Unfollow(e.user.items[0].id)},children:" \u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,p.jsx)("button",{disabled:e.isFollowingUser.length>0,onClick:function(){e.follow(e.user.items[0].id)},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})},J=function(e){e.ContactTitle;var r=e.ContactValue;if(r)return(0,p.jsx)("div",{className:u.contacts,children:(0,p.jsx)("a",{href:r,className:u.contact})})},T=function(e){return e.profile?(0,p.jsxs)("div",{className:u.person,children:[(0,p.jsxs)("div",{className:u.firstBlock,children:[(0,p.jsx)("div",{className:u.ava,children:(0,p.jsx)("img",{src:e.profile.photos.large||d})}),(0,p.jsx)(A,{profile:e.profile}),(0,p.jsx)(E,{user:e.user,isOwner:e.isOwner,follow:e.followProf,Unfollow:e.UnFollowProf,isFollowing:e.isFollowing,isFollowingUser:e.isFollowingUser})]}),(0,p.jsx)("div",{className:u.secondBlock,children:(0,p.jsx)(D,{profile:e.profile,isOwner:e.isOwner,UpdateStatus:e.UpdateStatus,status:e.status})}),e.isOwner&&(0,p.jsxs)("div",{className:u.friends,children:[(0,p.jsx)("h3",{children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,p.jsx)(y,{})]})]}):(0,p.jsx)("img",{src:"https://flevix.com/wp-content/uploads/2019/07/Spin-Preloader-1.gif"})},B=n(6139),M=(0,j.D)(30),R=((0,x.Z)({form:"SendingPost"})((function(e){return(0,p.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,p.jsx)(B.Z,{name:"postText",component:m.gx,type:"text",placeholder:"your news...",validate:[j.C,M]}),(0,p.jsx)("button",{children:"Send"})]})})),"Profile_body__d4rPb"),$=a.memo((function(e){return(0,p.jsxs)("div",{className:R,children:[(0,p.jsx)("h1",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,p.jsx)(T,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto,status:e.status,UpdateStatus:e.UpdateStatus,saveProfile:e.saveProfile,user:e.user,UnFollowProf:e.UnFollowProf,followProf:e.followProf,isFollowing:e.isFollowing,isFollowingUser:e.isFollowingUser})]})})),q=n(7689),V=n(1548);function G(e){return function(r){var n={params:(0,q.UO)()};return(0,p.jsx)(e,(0,l.Z)((0,l.Z)({},r),{},{match:n}))}}var H=function(e){(0,t.Z)(n,e);var r=(0,i.Z)(n);function n(){return(0,o.Z)(this,n),r.apply(this,arguments)}return(0,s.Z)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(this.props.userId,function(e){throw new TypeError('"'+e+'" is read-only')}("profileId")),this.props.getProfile(e),this.props.SetStatus(e),this.props.getUser(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,r,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)($,(0,l.Z)((0,l.Z)({},this.props),{},{isOwner:this.props.match.params.userId==this.props.userId}))}}]),n}(a.Component),L=(0,C.qC)((0,U.$j)((function(e){return{posts:e.profilePage.postData,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,user:e.profilePage.user,isFollowing:e.profilePage.isFollowingProf,userId:e.auth.userId,status:e.profilePage.status,friends:e.profilePage.friends,isFollowingUser:e.usersPage.isFollowing}}),{actionAddPost:_.Cf,getProfile:_.Ai,SetStatus:_.j4,UpdateStatus:_.qu,savePhoto:_.Ju,saveProfile:_.Ii,getFriends:_.$J,getUser:_.PR,UnFollowProf:_.HA,followProf:_.gk}),G,V.D)(H)},7492:function(e,r,n){n.d(r,{II:function(){return d},Np:function(){return f},gx:function(){return u}});var o=n(1413),s=n(5987),t=(n(2791),n(2813)),i=n(6139),l=n(184),a=["input","meta"],c=["input","meta"],u=function(e){var r=e.input,n=e.meta,i=(0,s.Z)(e,a),c=n.touched&&n.error;return(0,l.jsxs)("div",{className:t.Z.formControl+" "+(c?t.Z.error:""),children:[(0,l.jsx)("div",{children:(0,l.jsx)("textarea",(0,o.Z)((0,o.Z)((0,o.Z)({},r),i),{},{className:t.Z.textarea}))}),c&&(0,l.jsx)("span",{className:t.Z.someError,children:n.error})]})},d=function(e){var r=e.input,n=e.meta,i=n.touched,a=n.error,u=(0,s.Z)(e,c),d=i&&a;return(0,l.jsxs)("div",{className:t.Z.formControl+" "+(d?t.Z.error:""),children:[(0,l.jsx)("div",{children:(0,l.jsx)("input",(0,o.Z)((0,o.Z)((0,o.Z)({},r),u),{},{className:t.Z.input}))}),d&&(0,l.jsx)("span",{className:t.Z.someError,children:a})]})},f=function(e,r,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return(0,l.jsx)("div",{className:"s.".concat(e),children:(0,l.jsx)(i.Z,(0,o.Z)({name:e,component:r,type:n,placeholder:s,validate:t},a))})}},1548:function(e,r,n){n.d(r,{D:function(){return p}});var o=n(1413),s=n(5671),t=n(3144),i=n(136),l=n(516),a=n(2791),c=n(7689),u=n(8687),d=n(184),f=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var r=function(r){(0,i.Z)(a,r);var n=(0,l.Z)(a);function a(){return(0,s.Z)(this,a),n.apply(this,arguments)}return(0,t.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,o.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),a}(a.Component);return(0,u.$j)(f)(r)}},6509:function(e,r,n){n.d(r,{C:function(){return o},D:function(){return s}});var o=function(e){if(!e)return"require error"},s=function(e){return function(r){if(r.length>e)return"max length ".concat(e," symbols!")}}},2813:function(e,r){r.Z={formControl:"FormsControls_formControl__dV+OA",error:"FormsControls_error__ZjcXj",input:"FormsControls_input__kr6kc",someError:"FormsControls_someError__PrG3Q",commonError:"FormsControls_commonError__Rlpkm",textarea:"FormsControls_textarea__xpgxZ"}},8260:function(e,r,n){e.exports=n.p+"static/media/unknown.ae3a914be1e9f200b221.png"}}]);
//# sourceMappingURL=992.d2c97d36.chunk.js.map