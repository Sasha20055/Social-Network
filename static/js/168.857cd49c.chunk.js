"use strict";(self.webpackChunksocialn=self.webpackChunksocialn||[]).push([[168],{1168:function(e,t,n){n.r(t),n.d(t,{default:function(){return X},withRouter:function(){return V}});var r=n(5671),s=n(3144),o=n(136),i=n(516),a=n(8683),c=n(2791),u=n(5987),l=n(885),d={person:"Person_person__hRlAr",ava:"Person_ava__7u6m+",info:"Person_info__O3iGS",contact_item:"Person_contact_item__gKfNO",status:"Person_status__kDEpD"},p=n(8260),f=n(184),h=c.memo((function(e){var t=(0,c.useState)(!1),n=(0,l.Z)(t,2),r=n[0],s=n[1],o=(0,c.useState)(e.status),i=(0,l.Z)(o,2),a=i[0],u=i[1];(0,c.useEffect)((function(){return u(e.status)}),[e.status]);return(0,f.jsxs)("div",{children:[!r&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status})}),r&&(0,f.jsx)("div",{children:e.isOwner?(0,f.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){s(!1),e.UpdateStatus(a)},autoFocus:!0,value:a,type:"text"}):(0,f.jsx)("b",{children:a})})]})})),m=n(7492),x=n(704),j=n(6509),v=n(2813),b=c.memo((function(e){var t=(0,j.D)(15),n=(0,j.D)(100);return(0,f.jsxs)("form",{className:d.info,onSubmit:e.handleSubmit,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Name"}),":",(0,m.Np)("fullName",m.II,"text","name...",[j.C,t])]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),":",(0,m.Np)("lookingForAJob",m.II,"checkbox")]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job description"}),":",(0,m.Np)("lookingForAJobDescription",m.II,"text","Description to a job...",[j.C,n])]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),":",(0,m.Np)("aboutMe",m.II,"text","Smth about you...",[j.C,n])]}),(0,f.jsxs)("div",{className:d.contacts,children:[(0,f.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.profile.contacts).map((function(e){return(0,f.jsx)("div",{className:d.contacts,children:(0,f.jsxs)("b",{children:[e," : ",(0,m.Np)("contacts."+e,m.II,"text",e+"...")]})})}))]}),(0,f.jsxs)("div",{children:[e.error&&(0,f.jsx)("div",{className:v.Z.commonError,children:e.error}),(0,f.jsx)("button",{children:"Confirm"})]})]})})),Z=(0,x.Z)({form:"personEdit"})(b),_=n(6508),g="Friends_friends__xwpru",P=c.memo((function(e){return(0,f.jsx)("div",{className:g,children:e.friends&&e.friends.items.map((function(e){return(0,f.jsx)("p",{children:e.name})}))})})),N=n(7781),C=n(8687),k=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.props.getFriends()}},{key:"render",value:function(){return(0,f.jsx)(P,(0,a.Z)({},this.props))}}]),n}(c.Component),S=(0,N.qC)((0,C.$j)((function(e){return{friends:e.profilePage.friends}}),{getFriends:_.$J}))(k),y=["profile"],w=function(e){var t=e.profile,n=(0,u.Z)(e,y);return(0,f.jsxs)("div",{className:d.info,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Name"}),": ",t.fullName]}),(0,f.jsxs)("div",{className:d.status,children:[(0,f.jsx)("b",{children:"Status"}),": ",(0,f.jsx)(h,{status:n.status,UpdateStatus:n.UpdateStatus,isOwner:n.isOwner})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"Yes":"No"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),": ",t.aboutMe?t.aboutMe:"Empty"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Skills"}),": ",t.lookingForAJobDescription?t.lookingForAJobDescription:"Absent"]}),(0,f.jsxs)("div",{className:d.contacts,children:[(0,f.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return(0,f.jsx)(I,{ContactTitle:e,ContactValue:t.contacts[e]},e)}))]}),n.isOwner&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:n.goToEditMode,children:"Edit"})})]})},I=function(e){var t=e.ContactTitle,n=e.ContactValue;return(0,f.jsxs)("div",{className:d.contact_item,children:[(0,f.jsx)("b",{children:t}),": ",n||"empty"]})},A=function(e){var t=(0,c.useState)(!1),n=(0,l.Z)(t,2),r=n[0],s=n[1];if(!e.profile)return(0,f.jsx)("img",{src:"https://flevix.com/wp-content/uploads/2019/07/Spin-Preloader-1.gif"});return(0,f.jsxs)("div",{className:d.person,children:[(0,f.jsx)("div",{className:d.ava,children:(0,f.jsx)("img",{src:e.profile.photos.large||p})}),r?(0,f.jsx)(Z,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){s(!1)}))},isOwner:e.isOwner,UpdateStatus:e.UpdateStatus,editMode:r,offToEditMode:function(){return s(!1)}}):(0,f.jsx)(w,{profile:e.profile,isOwner:e.isOwner,UpdateStatus:e.UpdateStatus,status:e.status,editMode:r,goToEditMode:function(){return s(!0)}}),(0,f.jsx)("div",{className:d.choosePhoto,children:e.isOwner&&(0,f.jsx)("input",{type:"file",onChange:function(t){e.savePhoto(t.target.files[0])}})}),(0,f.jsx)("div",{children:(0,f.jsx)(S,{})})]})},O="SendingPost_sendPost__m-CEi",E=n(6139),D=(0,j.D)(30),F=(0,x.Z)({form:"SendingPost"})((function(e){return(0,f.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,f.jsx)(E.Z,{name:"postText",component:m.gx,type:"text",placeholder:"your news...",validate:[j.C,D]}),(0,f.jsx)("button",{children:"Send"})]})})),U=function(e){return(0,f.jsx)("div",{className:O,children:(0,f.jsx)(F,{onSubmit:function(t){e.actionAddPost(t.postText)}})})},M="Head_head__U8+gE",T=c.memo((function(){return(0,f.jsx)("div",{className:M})})),J={myPost:"Post_myPost__PRXwg",postAva:"Post_postAva__vyOyJ"},$=c.memo((function(e){return(0,f.jsx)("div",{children:e.posts.map((function(e){return(0,f.jsxs)("div",{className:J.myPost,children:[(0,f.jsx)("div",{className:J.postAva}),(0,f.jsx)("p",{className:J.postMsg,children:e.message}),(0,f.jsxs)("p",{className:J.like,children:["Likes: ",e.likes]})]},e.id)}))})})),q=c.memo((function(e){return(0,f.jsxs)("div",{children:[(0,f.jsx)(T,{}),(0,f.jsx)(A,{profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto,status:e.status,UpdateStatus:e.UpdateStatus,saveProfile:e.saveProfile}),(0,f.jsx)(U,(0,a.Z)({},e)),(0,f.jsx)($,{posts:e.posts})]})})),L=n(7689),R=n(1548);function V(e){return function(t){var n={params:(0,L.UO)()};return(0,f.jsx)(e,(0,a.Z)((0,a.Z)({},t),{},{match:n}))}}var G=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(this.props.userId,function(e){throw new TypeError('"'+e+'" is read-only')}("profileId")),this.props.getProfile(e),this.props.SetStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(q,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:this.props.match.params.userId==this.props.userId}))}}]),n}(c.Component),X=(0,N.qC)((0,C.$j)((function(e){return{posts:e.profilePage.postData,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile,userId:e.auth.userId,status:e.profilePage.status,friends:e.profilePage.friends}}),{actionAddPost:_.Cf,getProfile:_.Ai,SetStatus:_.j4,UpdateStatus:_.qu,savePhoto:_.Ju,saveProfile:_.Ii,getFriends:_.$J}),V,R.D)(G)},7492:function(e,t,n){n.d(t,{II:function(){return d},Np:function(){return p},gx:function(){return l}});var r=n(8683),s=n(5987),o=(n(2791),n(2813)),i=n(6139),a=n(184),c=["input","meta"],u=["input","meta"],l=function(e){var t=e.input,n=e.meta,i=(0,s.Z)(e,c),u=n.touched&&n.error;return(0,a.jsxs)("div",{className:o.Z.formControl+" "+(u?o.Z.error:""),children:[(0,a.jsx)("div",{children:(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)((0,r.Z)({},t),i),{},{className:o.Z.textarea}))}),u&&(0,a.jsx)("span",{className:o.Z.someError,children:n.error})]})},d=function(e){var t=e.input,n=e.meta,i=n.touched,c=n.error,l=(0,s.Z)(e,u),d=i&&c;return(0,a.jsxs)("div",{className:o.Z.formControl+" "+(d?o.Z.error:""),children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",(0,r.Z)((0,r.Z)((0,r.Z)({},t),l),{},{className:o.Z.textarea}))}),d&&(0,a.jsx)("span",{className:o.Z.someError,children:c})]})},p=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return(0,a.jsx)("div",{className:"s.".concat(e),children:(0,a.jsx)(i.Z,(0,r.Z)({name:e,component:t,type:n,placeholder:s,validate:o},c))})}},1548:function(e,t,n){n.d(t,{D:function(){return f}});var r=n(8683),s=n(5671),o=n(3144),i=n(136),a=n(516),c=n(2791),u=n(7689),l=n(8687),d=n(184),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){(0,i.Z)(c,t);var n=(0,a.Z)(c);function c(){return(0,s.Z)(this,c),n.apply(this,arguments)}return(0,o.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,r.Z)({},this.props)):(0,d.jsx)(u.Fg,{to:"/login"})}}]),c}(c.Component);return(0,l.$j)(p)(t)}},6509:function(e,t,n){n.d(t,{C:function(){return r},D:function(){return s}});var r=function(e){if(!e)return"require error"},s=function(e){return function(t){if(t.length>e)return"max length ".concat(e," symbols!")}}},2813:function(e,t){t.Z={formControl:"FormsControls_formControl__dV+OA",error:"FormsControls_error__ZjcXj",textarea:"FormsControls_textarea__xpgxZ",someError:"FormsControls_someError__PrG3Q",commonError:"FormsControls_commonError__Rlpkm"}},8260:function(e,t,n){e.exports=n.p+"static/media/unknown.ae3a914be1e9f200b221.png"}}]);
//# sourceMappingURL=168.857cd49c.chunk.js.map